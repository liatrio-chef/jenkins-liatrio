<?xml version='1.0' encoding='UTF-8'?>
<project>
  <actions/>
  <description></description>
  <keepDependencies>false</keepDependencies>
  <properties>
    <com.chikli.hudson.plugin.naginator.NaginatorOptOutProperty plugin="naginator@1.17">
      <optOut>false</optOut>
    </com.chikli.hudson.plugin.naginator.NaginatorOptOutProperty>
  </properties>
  <scm class="hudson.scm.NullSCM"/>
  <canRoam>true</canRoam>
  <disabled>false</disabled>
  <blockBuildWhenDownstreamBuilding>false</blockBuildWhenDownstreamBuilding>
  <blockBuildWhenUpstreamBuilding>false</blockBuildWhenUpstreamBuilding>
  <triggers>
    <jenkins.triggers.ReverseBuildTrigger>
      <spec></spec>
      <upstreamProjects>petclinic-simple-auto-1</upstreamProjects>
      <threshold>
        <name>SUCCESS</name>
        <ordinal>0</ordinal>
        <color>BLUE</color>
        <completeBuild>true</completeBuild>
      </threshold>
    </jenkins.triggers.ReverseBuildTrigger>
  </triggers>
  <concurrentBuild>false</concurrentBuild>
  <builders>
    <hudson.tasks.Shell>
      <command>ARTIFACTURL=http://localhost:8081
PROJECT=$ARTIFACTURL/repository/snapshots/org/springframework/samples/spring-petclinic/4.2.4-SNAPSHOT
curl -sO $ARTIFACTURL/repository/snapshots/org/springframework/samples/spring-petclinic/4.2.4-SNAPSHOT/maven-metadata.xml

echo &quot;-----BEGIN RSA PRIVATE KEY-----
MIIEowIBAAKCAQEAs9hFeFi7aRYMQj/47D+cnVOjRbQ2RbibqTQ53NK+kV4FELrt
JFS22aLrPxndH8QUdOQ4sqsFNIscegDmH59P6HeY2Dm+vun94/TuEcEnP4FAXeZj
i5v+qSpCw4ssZ2colBkSQj9jVBCGHd/uvvKAiNmhjUujPBPKy1N3uH91Y+QmbMBo
ZtY9QPbmPwqY9P+kzbJ6RyfVRag17lfeat6/PTDENXpKE+vjIA7sZm1oezalX38L
LKE2sVwvKp9I7bE9iW5RidMv30o9TaXu1j4BUKnixl33/rycp4fW0SAFhiZyhOeq
vsUrJ5bCx6ldBzycJL0X1az/3nGk/z7VPp58UwIDAQABAoIBAAmtCx/MdljTDNnL
o1LioUR9qX0okvrxUb6qxqow1HvxuQgLZpLb0/Klp05/z7vTyt33IW3Lcb4/9cpC
nh75bU0ukhSgFrki0bwgA2cFI11xUMs8iAKM5Aip82md5Uey7yX4q1jRHED7mpuk
3q17UpsKSnzVovSqg/CojvpoMSKsnqOshJd673CDgAgJXPff8Ve3W69X9mq5jjNu
GlBFAnlZvPK5TIK3o+mv57yGbdpdI3VrxKfYwdau1z7R5C6OkysuQxhI8p3BC5oN
n8aMYvQW/k5kpzdT1AXcoDO5jVUVSCgyVdXEwpa6tPQn3LK6h4CFkaB9CxiwzdoK
vmiz+eECgYEA3IbNnCf8vEL+xhWdK9feQBOpQwH5AJPtmNpe7Ot4ZAuAZPmIN2hr
DNakC07QTKdJqqYZ65/JNqpnEyULkVqzvu0My/Mz6bRmK3E8TmdruOfnqgEUdC/C
2wAdtdWCX4tKeBJKCOhY8BhDAIHvALrEai5ASOE+v2nplKW9zGhptrsCgYEA0MY1
kuOMejUUZsQd7M5csds8ztDAotadEcC/K2iBmeW680/SLtbDlidzx1v+g+I6rZQi
CDMl/8cEXISyI0kGX0OOOcAl9fZZu/bAU+VxnHMSfhQ1y4rMNWgOpM4vEa1rWlJ9
P6uLIkQ70p4+ujRr1fhxU4ZQqODc+HloBrLkk0kCgYARNig4Btrv6p6t4SP6Nwfu
olo0k6PWirUhl/GOtjYYQNmNh/g8stagEuSMyWLyiJ/0RLCDNl5i+NvAn8SOXLDo
tuGnzVyA4gaTX2wghmve66KmHx10kAG6TAEFnxtkz59JTcwfc9r1Kj+Ye4um1+za
iK+VwJbAI8kKRAFTQdb2XwKBgQDE2pA7b8nOlWwmNjfNSQvIPGPK0rVBFcHGsorP
QFwro50yvQn/VkvXsl2OFiUXb+JKN0oblzb2RU7MeeaKNNoIS2e49oAUuvQDsvfI
Y6lLjolaTm4m/TnuBa8BINTrAy0dXnhw56xqZBJQVxvocXNYr0kUK6q0gkp5E+jN
oDK82QKBgA3xzcjhNmeCorJ2UxMxheEuj8DVOrJ+NxH50mKclVBSHOUfmoVzvN5s
IMgkGlkeYCvZICMeNOTfnXrp1g3sM2zlj/5xsdpX/xTVXNxr+V6bSUNW7STVM14t
XU8u0mgyjDJ29EXuytIyYCaqcYWaoIaKb1+4WVZGBna5WYNAt1XX
-----END RSA PRIVATE KEY-----&quot; &gt;&gt; ssh.priv.$BUILD_NUMBER.key

chmod 400 ssh.priv.$BUILD_NUMBER.key

LATEST=4.2.4-SNAPSHOT
VALUE=4.2.4
ARTIFACTID=spring-petclinic
TIMESTAMP=$(sed -n &apos;s|.*&lt;timestamp&gt;\(.*\)&lt;/timestamp&gt;|\1|p&apos; maven-metadata.xml)
BUILDNUMBER=$(sed -n &apos;s|.*&lt;buildNumber&gt;\(.*\)&lt;/buildNumber&gt;|\1|p&apos; maven-metadata.xml)

WAR=$ARTIFACTID-$VALUE-$TIMESTAMP-$BUILDNUMBER.war

curl -sO $PROJECT/$WAR

scp -o StrictHostKeyChecking=no -i ssh.priv.$BUILD_NUMBER.key $WAR tomcat_petclinic@localhost:/opt/tomcat_petclinic/webapps</command>
    </hudson.tasks.Shell>
  </builders>
  <publishers/>
  <buildWrappers/>
</project>